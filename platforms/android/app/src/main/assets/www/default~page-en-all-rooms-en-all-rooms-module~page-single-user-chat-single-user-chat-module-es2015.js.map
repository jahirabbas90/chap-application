{"version":3,"sources":["./src/app/page/en-all-rooms/en-all-rooms.page.scss","./src/app/page/en-all-rooms/en-all-rooms.page.ts","./src/app/page/en-all-rooms/en-all-rooms.page.html"],"names":[],"mappings":"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","file":"default~page-en-all-rooms-en-all-rooms-module~page-single-user-chat-single-user-chat-module-es2015.js","sourcesContent":["export default \"ion-list {\\n  padding: 0;\\n}\\n\\nion-badge {\\n  border-radius: 10px;\\n}\\n\\nion-toolbar {\\n  border-bottom-width: 0;\\n}\\n\\nion-button[shape=circle] {\\n  --border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxlbi1hbGwtcm9vbXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBQTtBQUNGOztBQUNBO0VBQ0UsbUJBQUE7QUFFRjs7QUFBQTtFQUNFLHNCQUFBO0FBR0Y7O0FBQUE7RUFDRSxvQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBR0YiLCJmaWxlIjoiZW4tYWxsLXJvb21zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1saXN0IHtcclxuICBwYWRkaW5nOiAwO1xyXG59XHJcbmlvbi1iYWRnZSB7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufVxyXG5pb24tdG9vbGJhciB7XHJcbiAgYm9yZGVyLWJvdHRvbS13aWR0aDogMDtcclxufVxyXG5cclxuaW9uLWJ1dHRvbltzaGFwZT1jaXJjbGVdIHtcclxuICAtLWJvcmRlci1yYWRpdXM6IDUwJTtcclxuICB3aWR0aDogMjBweDtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbn1cclxuIl19 */\";","import { AfterViewInit, Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { MyConnecterService } from '../../services/my-connecter.service';\nimport { Platform, AlertController } from '@ionic/angular';\nimport { FCM } from 'cordova-plugin-fcm-with-dependecy-updated/ionic/ngx';\n\n\n\n@Component({\n  selector: 'app-en-all-rooms',\n  templateUrl: './en-all-rooms.page.html',\n  styleUrls: ['./en-all-rooms.page.scss'],\n})\nexport class EnAllRoomsPage implements OnInit {\n\n  _authUsr: any;\n  _allRoom: any;\n  _filteredRoom:any;\n  _userNickName:any;\n  _userid:any;\n  allChatUser:any;\n  userListBackup :any;\n  allGroups:any;\n  _allUsr = [];\n  _visibleNameArray :any;\n  _visibleUsr = [];\n  groupsListBackup:any;\n  chatIdArray=[];\n  coversationList=[];\n  message_count: number=0;\n\n  constructor(private router: Router,\n    private _connecter: MyConnecterService,\n    private alertCtrl: AlertController,\n    private firestore:AngularFirestore,\n    private platform:Platform,\n    private _location: Location,\n    private fcm: FCM \n    ) {\n      this.platform.ready()\n      .then(() => {\n        this.fcm.onNotification().subscribe(data => {\n          if (data.wasTapped) {\n            console.log(\"Received in background\");\n            // alert(\"Received in background\");\n          } else {\n            console.log(\"Received in foreground\");\n            var bleep = new Audio();\n            bleep.src = './assets/chatTone.mp3';\n            bleep.play();\n            // alert(\"Received in foreground\");\n          };\n        });\n  \n        this.fcm.onTokenRefresh().subscribe(token => {\n          // alert(\"refresh_token :\"+token);  \n        });\n      })\n\n    _connecter.authUser$.subscribe(data => {\n      this._authUsr = data;\n      this._userNickName=this._authUsr.name;\n      this._userid=this._authUsr.id;\n      //check if user FCMToken register on not\n\n      if(Object.keys(this._authUsr).length === 0) {\n        this.router.navigate(['/en-login']);\n      }\n      else{\n        // this.getAllChat();\n      }\n    });\n\n    if (this._authUsr.fcm_token == null) {\n      console.warn(\"null\")\n      console.warn(\"\"+this._authUsr.fcm_token)\n      this._connecter.updateUserFcmToken(localStorage.getItem(\"user_id\"),\"\"+localStorage.getItem(\"user_fcm_token\"));\n    } else if (this._authUsr.fcm_token!=null && this._authUsr.fcm_token!=localStorage.getItem(\"user_fcm_token\")) {\n      console.warn(\"not_null\")\n      this._connecter.updateUserFcmToken(localStorage.getItem(\"user_id\"),localStorage.getItem(\"user_fcm_token\"));\n    }\n\n  }\n\n  ngOnInit() {\n\n    this.getAllPosts().subscribe((data) => {\n      if (data.length>0) { \n        // console.log(data);\n\n        this._allRoom=data;\n        this._filteredRoom = data.filter(eachVal => {\n          let opt = eachVal.visible_name.some((\n            { uid }) => uid == this._authUsr.id);\n          return opt;\n        })\n\n        // console.warn(\"myData :\" + JSON.stringify(this._filteredRoom))\n        this._allRoom=this._filteredRoom;\n\n        if (this._allRoom!=undefined) {\n          this._visibleNameArray=[];\n\n          for (let index = 0; index < this._allRoom.length; index++) {\n            const visibleArray = this._allRoom[index].visible_name;\n            this._visibleNameArray.push(visibleArray);\n          }\n          // console.warn(\"visibleName  :\" + JSON.stringify(this._visibleNameArray))\n\n           for (let index = 0; index < this._visibleNameArray.length; index++) {\n              const element = this._visibleNameArray[index];\n              if (element.uid===this._userid) {\n                this.message_count=element.unread;\n              }\n            }\n        }\n        \n        \n        // this.coversationList=data;\n        /* for (let index = 0; index < data.length; index++) {\n          this.coversationList.push(data[index]['visible_name']);\n        } */\n\n        /* for (let index = 0; index < this.coversationList.length; index++) {\n          const element = this.coversationList[index];\n          console.log(\"visible_user_array_index :\" + JSON.stringify(element));              \n        } */\n\n        /* console.log(\"userId :\" + this._authUsr.id);\n        console.log(this.coversationList);\n        for (let index = 0; index < this.coversationList.length; index++) {\n          const element1 = this.coversationList[index];\n          console.log(\"visible_user_array :\" + JSON.stringify(element1));\n          console.log(\"userId :\" + this._authUsr.id);\n        } */\n      }\n    });\n\n    \n   \n  }\n\n\n  /* getAllChat() {    \n    this._allRoom = this._connecter.getGroups(this._authUsr.id);\n  } */\n\n  getAllPosts(): Observable<any> {\n    return this.firestore.collection<any>(\"conversations\", ref => ref\n      .orderBy('ceatedAt', 'desc')).valueChanges({ idField: 'id' });\n  }\n  \n  signOut() {\n    this._connecter.removeAuth();\n  }\n\n  async filterList(evt) {\n    const searchTerm = evt.srcElement.value;\n    // console.log(this._allRoom)\n    console.log(searchTerm)\n\n    if (!searchTerm) {\n      this._filteredRoom=this._allRoom;\n      return;\n    }\n\n    this._filteredRoom = this._allRoom.filter(eachVal => {\n      let opt = eachVal.visible_name.some((\n        { name }) => name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1);\n      return opt;\n    })\n    /* this.userListBackup = this.allGroups.filter(item => {\n      return item.name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1\n    }); */\n\n  }\n\n  doRefresh(event) {\n    console.log('Begin async operation');\n    // this.getAllChat();\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 2000);\n  }\n\n  getAllUser(value, array) {\n    for (let index = 0; index < array.length; index++) {\n      this.userListBackup = this.userListBackup.push(value)\n\n    }\n\n    this.allGroups = this.userListBackup;\n  }\n\n  /* getAllChatUser(value){\n    this.allChatUser=this.allChatUser.push(value);\n  } */\n\n  async showPop(groupName,groupFriends) {\n    const alert = await this.alertCtrl.create({\n      cssClass: 'my-custom-class',\n      header: '' + groupName,\n      message: '' + groupFriends\n      \n    });\n\n    await alert.present();\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n    });\n\n    this.platform.backButton.subscribeWithPriority(10, (processNextHandler) => {\n      console.log('Back press handler!');\n      if (this._location.isCurrentPathEqualTo('/en-all-rooms')) {\n\n        // Show Exit Alert!\n        console.log('Show Exit Alert!');\n        this.showExitConfirm();\n        processNextHandler();\n      } else {\n\n        // Navigate to back page\n        console.log('Navigate to back page');\n        this._location.back();\n\n      }\n\n    });\n\n    this.platform.backButton.subscribeWithPriority(5, () => {\n      console.log('Handler called to force close!');\n      this.alertCtrl.getTop().then(r => {\n        if (r) {\n          navigator['app'].exitApp();\n        }\n      }).catch(e => {\n        console.log(e);\n      })\n    });\n\n  }\n\n\n  showExitConfirm() {\n    this.alertCtrl.create({\n      header: 'Close App',\n      message: 'Do you want to close the app?',\n      backdropDismiss: false,\n      buttons: [{\n        text: 'Stay',\n        role: 'cancel',\n        handler: () => {\n          console.log('Application exit prevented!');\n        }\n      }, {\n        text: 'Exit',\n        handler: () => {\n          navigator['app'].exitApp();\n        }\n      }]\n    })\n      .then(alert => {\n        alert.present();\n      });\n  }\n\n\n}\n\n\nimport { Pipe, PipeTransform } from '@angular/core';  \nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser'; \nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { first, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { NativeAudio } from '@ionic-native/native-audio';\n@Pipe({  \n  name: 'starPipe'  \n})  \n  \nexport class StarPipe implements PipeTransform {  \n  constructor(private _sanitizer: DomSanitizer) { }  \n  \n  transform(value: any, event?: number): SafeHtml { \n    if(value) {    \n      if(value.group) {\n        return value.title;\n      }\n      else {\n        var arr = [];\n        if (value.visible_name) {\n          var filteredArray = value.visible_name.filter(function(itm){\n            return itm.uid == event;\n          });\n\n          if(filteredArray.length) {\n            return filteredArray[0].name;\n          } \n        }\n        \n        \n      }\n    }\n    return null;\n \n  }  \n} \n\n@Pipe({  \n  name: 'notificationPipe'  \n})  \n  \nexport class NotificationPipe implements PipeTransform {  \n  constructor(private _sanitizer: DomSanitizer) { }  \n  \n  transform(value: any, event?: number, group?: any): SafeHtml { \n    if(value) { \n       \n      if(group) {\n        var filteredArray = value.filter(function(itm){\n          return itm.uid == event;\n        });\n        \n        if(filteredArray.length) {\n          return filteredArray[0].unread > 0 ? filteredArray[0].unread : null;\n        }\n      }\n      else {\n        var arr = [];\n        var filteredArray = value.filter(function(itm){\n          return itm.uid != event;\n        });\n        if(filteredArray.length) {\n          return filteredArray[0].unread > 0 ? filteredArray[0].unread : null;\n        }\n      }\n    }\n    return null;\n \n  }  \n} \n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar >\\n    \\n    <ion-title>All Chats</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <!-- <ion-button routerLink=\\\"/en-create-room\\\"> -->\\n      <ion-button routerLink=\\\"/en-new-individual-chat\\\">\\n        <ion-icon name=\\\"create-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button (click)=\\\"signOut()\\\">\\n        <ion-icon name=\\\"log-out\\\" slot=\\\"icon-only\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n  <ion-toolbar>\\n    <ion-searchbar  showcancelbutton=\\\"\\\"\\n    (ionInput)=\\\"filterList($event)\\\"\\n    ></ion-searchbar>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n\\n  <ion-list *ngIf=\\\"_allRoom\\\"> \\n    <!-- <ion-item-sliding *ngFor=\\\"let group of groupsListBackup\\\">\\n      <ion-item button detail='false' [routerLink]=\\\"['/', 'en-chat',group.id]\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"assets/avatar.svg\\\">\\n        </ion-avatar>\\n        <ion-label>\\n          <h3>{{group.title }}</h3>          \\n          <p>{{ group.last_text }}</p>\\n        </ion-label>\\n        \\n      </ion-item>\\n    </ion-item-sliding> -->\\n\\n   <!--  <ion-item button detail='false' *ngFor=\\\"let room of _allRoom  | async\\\" [routerLink]=\\\"['/', 'single-user-chat', (room | async)?.id || 0]\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"assets/avatar.svg\\\">\\n      </ion-avatar>\\n\\n      <ion-label>\\n        <h3>{{ room| async | starPipe: _authUsr.id }}</h3>          \\n        <p>{{ (room | async)?.last_message || null }}</p>\\n      </ion-label>\\n      \\n    </ion-item>\\n -->\\n\\n<ion-item button detail='false' *ngFor=\\\"let room of _filteredRoom\\\"\\n  [routerLink]=\\\"['/', 'single-user-chat', room.id]\\\">\\n  <ion-avatar slot=\\\"start\\\">\\n    <img src=\\\"assets/avatar.svg\\\">\\n  </ion-avatar>\\n\\n  <ion-badge color=\\\"primary\\\" slot=\\\"end\\\">{{ room.visible_name  |notificationPipe: _authUsr.id: room.group }}</ion-badge>\\n\\n  <ion-label>\\n    <h3>{{ room  |starPipe: _authUsr.id }}</h3>\\n    <p>{{ room.last_message}}</p>\\n  </ion-label>\\n</ion-item>\\n\\n\\n  </ion-list>\\n  \\n\\n</ion-content>\\n\\n\";"],"sourceRoot":"webpack:///"}