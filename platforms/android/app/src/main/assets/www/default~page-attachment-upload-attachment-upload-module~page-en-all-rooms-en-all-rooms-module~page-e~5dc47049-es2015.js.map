{"version":3,"sources":["./src/app/services/my-connecter.service.ts"],"names":[],"mappings":"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","file":"default~page-attachment-upload-attachment-upload-module~page-en-all-rooms-en-all-rooms-module~page-e~5dc47049-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\n// import { AngularFirestoreCollection } from 'angularfire2/firestore';\n// import { AngularFireDatabase } from 'angularfire2/database';\nimport { Observable, throwError, BehaviorSubject, Subscription } from 'rxjs';\nimport { take, retry, map, tap, filter, find, catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Alert } from 'selenium-webdriver';\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MyConnecterService {\n\n  private authUser = new BehaviorSubject<any>(null);\n  public authUser$ = this.authUser.asObservable();\n  loggedInUser = {};\n  \n  private allUser = new BehaviorSubject<any>(null);\n  public allUser$ = this.allUser.asObservable();\n  \n  private oldChats = new BehaviorSubject<any>(null);\n  public oldChats$ = this.oldChats.asObservable();\n  \n  private currentChat = new BehaviorSubject<any>(null);\n  public currentChat$ = this.currentChat.asObservable();\n  userId:any;\n  userArray:any;\n  contactsSub: Subscription;\n  private REST_API_SERVER_URL = \"https://networkdemo.in/firebase.php?token=\";\n\n  \n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type':  'application/json',\n      //'strictSSL': false\n          // 'Content-Type':  'application/json'\n    })\n  };\n  \n  constructor(private httpClient: HttpClient,private afs: AngularFirestore, public toastCtrl: ToastController, private router: Router) { \n    /*Auth*/\n    if (localStorage.getItem(\"chat-user\") === null || localStorage.getItem(\"chat-user\") === undefined) { }\n    else {\n      this.loggedInUser = JSON.parse(localStorage.getItem('chat-user'));\n    } \n    this.authUser.next(this.loggedInUser);\n\n    this.oldChats.next([]);\n  }\n\n  userLogin(_username, _password) {\n    this.afs.collection('employee', ref => ref.where('email', '==', _username).where('password', '==', _password))\n    .valueChanges({ idField: 'id' }).subscribe( data => {\n      var u: any = data;\n      // console.log(data);\n      if(data && data.length) {\n        this.loggedInUser = data[0];\n        localStorage.setItem('chat-user', JSON.stringify(this.loggedInUser));\n        this.authUser.next(this.loggedInUser);\n        this.userId = data[0]['uid'];\n        localStorage.setItem(\"userId\", this.userId);\n        localStorage.setItem(\"userFriends\", data[0]['personal_chats']);\n      }\n      else {\n        this.presentToast('Credential Mismatch');\n      }\n    });\n  }\n\n  async presentToast(msg) {\n    const toast = await this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  public removeAuth() { \n    var data = {};\n    localStorage.removeItem('chat-user');\n    this.authUser.next(data);\n  }\n\n  getGroups(id) {\n    // eturn this.firestore.collection('employee', ref => ref.orderBy('name', 'desc')).snapshotChanges();\n    const collection = this.afs.collection(`employee/${id}/groups`, ref => ref\n      .orderBy('ceatedAt','desc'));\n    return collection.snapshotChanges().pipe(\n      map(actions => actions.map(a => {\n        const data = a.payload.doc.data();\n        const user_group_key = a.payload.doc.id;\n        // console.log(\"user_group_key :\" +user_group_key )\n        // console.log(\"all-rooms-data :\" + JSON.stringify(data))\n        return this.getOneGroup(data['chatId'], user_group_key);\n      }))\n    )   \n\n\n    // this.afs.collection(`employee/${id}/groups`).valueChanges({ idField: 'id' }).subscribe( data => {\n    //   var u: any = data;\n    //   console.log(data);\n    //   // if(data && data.length) {\n    //   //   this.loggedInUser = data[0];\n    //   //   localStorage.setItem('chat-user', JSON.stringify(this.loggedInUser));\n    //   //   this.authUser.next(this.loggedInUser);\n    //   // }\n    //   // else {\n    //   //   this.presentToast('Credential Mismatch');\n    //   // }\n    // });\n\n \n  }\n\n  getOneGroup(id, user_group_key = null) {\n    \n    return this.afs.doc(`conversations/${id}`).snapshotChanges().pipe(\n      take(1),\n      map(changes => {\n        const data = changes.payload.data() as {};\n        const group_id = changes.payload.id;\n        return { user_group_key, id: group_id, ...data }; \n      })\n    )\n  }\n\n  fetchChats(id) {\n      this.afs.collection(`conversations/${id}/messages`, ref => ref\n      .orderBy('createAt', 'asc'))\n      .valueChanges({ idField: 'id' }).subscribe(data => {\n        if (data && data.length) {\n          this.oldChats.next(data);\n        }\n        else {\n          this.oldChats.next([]);\n        }\n      });\n\n    this.afs.collection('conversations').doc(id)\n      .valueChanges({ idField: 'id' }).subscribe(data => {\n        this.currentChat.next(data);\n      });\n  }\n\n  \n  fetchUsers(email) {\n\n    this.afs.collection('employee', ref => ref.where('email', '!=', email))\n    .valueChanges({ idField: 'id' }).subscribe( data => {\n      if(data && data.length) {\n        const resultArray = Object.keys(data).map(index => {\n          let person = data[index];\n          return person;\n        });\n        // console.log(resultArray);\n        this.allUser.next(resultArray);\n      }\n    });\n\n  }\n\n  \n  createNewChat(val, id1, arr1, id2, arr2) {\n    var members = [];\n    \n    return new Promise<any>((resolve, reject) =>{\n      this.afs.collection('conversations').add(val).then(res => {\n        var nwAr = {\n          chat_id: res.id,\n          uid: id2\n        }\n        arr1.push(nwAr)\n        \n        var nwAr2 = {\n          chat_id: res.id,\n          uid: id1\n        }\n        arr2.push(nwAr2)\n\n        this.updateUserChatDat1(res.id,id1, arr1);\n        this.updateUserChatDat2(res.id,id2, arr2,res);\n\n      }, err => reject(err));\n    });  \n\n\n  }\n  \n  public updateUserChatDat1(chatId,id, arr) {    \n    this.afs.doc(`employee/${id}`).update({personal_chats: arr});\n    this.afs.collection(`employee/${id}/groups`).add( {chatId} );\n  }\n\n  public updateUserChatDat2(chatId,id, arr,res) {    \n    this.afs.doc(`employee/${id}`).update({personal_chats: arr});\n    this.afs.collection(`employee/${id}/groups`).add( {chatId} );\n    this.gotToPage(res);\n  }\n\n   gotToPage(res){\n      setTimeout(() => this.router.navigate([`/single-user-chat/${res.id}`]),2500); // 2000 is millisecond\n  }\n\n  async delay(ms: number,res) {\n    await new Promise<void>(resolve => setTimeout(()=>resolve(), ms)).then(()=>this.router.navigate([`/single-user-chat/${res.id}`]));\n  }\n\n\n\n  createNewChatGroup(val, users) {\n    var members = [];\n    \n    return new Promise<any>((resolve, reject) =>{\n      this.afs.collection('conversations').add(val).then(res => {\n       \n        for (let index = 0; index < users.length; index++) {\n          this.updateUserChatGroup(res.id, users[index]);          \n        }\n        \n        this.router.navigate([`/single-user-chat/${res.id}`]);\n      }, err => reject(err));\n    });  \n\n\n  }\n  \n  public updateUserChatGroup(chatId,id) {    \n    this.afs.collection(`employee/${id}/groups`).add({ chatId: chatId, ceatedAt: new Date().getTime() } );\n  }\n  \n \n\n  deleteMessage(cId, msgId) {\n    /* this.afs.collection('conversations/' + cId + '/messages').doc(msgId).update({\n      delete: true,\n      deletedBy: this.userId\n    }) */\n\n    this.afs.doc(`conversations/${cId}/messages/${msgId}`).update({ \n      delete: true\n     });\n  }\n\n  updateLastMessage(id,lastMsg){\n    this.afs.doc(`conversations/${id}`).update({ last_message: lastMsg });\n\n  }\n\n  createNewUser(val, email) {    \n    this.afs.collection('employee', ref => ref.where('email', '==', email))\n    .valueChanges({ idField: 'id' }).subscribe( data => {\n      // console.log(data)\n      if(data && data.length) {\n        this.router.navigate([`/en-login/`]);\n      }\n      else {\n        \n        this.presentToast('User added');\n        this.afs.collection(`employee`).add( val );\n        this.router.navigate([`/en-login/`]);\n\n      }\n    });    \n  }\n  \n  createNewMessage(val, id, lastMsg,ceatedAt,authuserId,msgCount,msgBy,visible_user_array) {\n    var members = [];\n    return new Promise<any>((resolve, reject) =>{\n      this.afs.collection(`/conversations/${id}/messages`).add(val).then(res => {   \n        // console.log(\"msgId : \"+JSON.stringify(res))     \n        this.afs.doc(`conversations/${id}`).update({ last_message: lastMsg,message_count:msgCount,message_by_name:msgBy, ceatedAt: new Date().getTime()});\n\n        this.afs.collection(`employee/${authuserId}/groups`, ref => ref.where('chatId', '==', id)).get().subscribe((querySnap) => {\n          querySnap.forEach((doc)=>{\n            // console.log(doc.id)\n            this.afs.doc(`employee/${authuserId}/groups/${doc.id}`).update({ ceatedAt: new Date().getTime()});\n            this.afs.doc(`conversations/${id}`).update({visible_name:visible_user_array});\n          })\n          console.log(querySnap.docs)\n        })      \n      }, err => reject(err));\n    });  \n\n  }\n\n  updateUserFcmToken(id,token){\n    this.afs.doc(`employee/${id}`).update({ fcm_token: token });\n  }\n\n  messageSeenBy(id,visible_user_array) {\n    this.afs.doc(`conversations/${id}`).update({visible_name:visible_user_array});\n  }\n\n  sendFirebasePush(token:any){\n    return this.httpClient.get(this.REST_API_SERVER_URL+token, this.httpOptions) \n      .pipe(\n        catchError(this.handleError)\n      );\n    // https://networkdemo.in/firebase.php?token=eEmXPgp1RSeTDYCKpUyGAA:APA91bFq4aNYQA9qtXoKacstxeF6ayi8OeAscc8mE-Lwyz6uQb43gYfYc4Fnr6aOi0hI4VASMskiSVleJ_IVpF-xkoXJd5lMucViHfyeOIJBAzc9Eps9gKmhwvQe4DnEGtWuvd14jrmf\n  }\n  private handleError(error: HttpErrorResponse) { \n\t\tvar msg: any = 'Something bad happened; please try again later.';\t\t\n\t  if (error.error instanceof ErrorEvent) {\n\t    msg = error.message ? error.message : error.error.message;\n\t  } else {\n\t    msg = error.statusText;\n\t  }\n\t  return throwError(msg);\n\t}\n\n  copycreateNewMessage(val, id, lastMsg) {\n    var members = [];\n    const msgId=this.afs.createId();\n    return new Promise<any>((resolve, reject) => {\n      this.afs.collection(`/conversations/${id}/messages`).doc(msgId).set(val).then(res => {\n        this.afs.doc(`conversations/${id}`).update({ last_message: lastMsg });\n\n       val.users.forEach(element => {\n          this.updateTimeOnChat(element.uid,msgId, Date.now())\n        });\n\n      }, err => reject(err));\n    });\n\n  }\n\n\n  updateTimeOnChat(id,groupId, time) {\n    console.log(\"begin_groupid \", groupId)\n   /*  return new Promise<any>((resolve, reject) => {\n      this.afs.doc(`employee/${id}/groups`).update({ updated_at: time });\n    }); */\n    const collection = this.afs.collection(`employee/${id}/groups`);\n    return collection.snapshotChanges().pipe(\n      map(actions => actions.map(a => {\n        // console.log(\"groupId\", a.payload.doc.id)\n        const data:any = a.payload.doc.data();\n        return{\n          id:a.payload.doc.id,\n        \n          ...data\n        }\n        \n      }))\n      )\n      .subscribe(res=>{\n        console.log(\"inside_subs : \",res)\n        const groupInfo= res.find((data: any) => data.chatId === groupId)\n        if (groupInfo) {\n          console.log(\"groupId : \" + groupInfo.id)\n          return this.afs.doc(`employee/${id}/groups/${groupInfo.id}`).update({ chatupdated_at: time })\n            .then(res => { })\n            .catch(err => { console.log(\"Error while update time on chat\" + err) })\n        }\n        \n      })\n\n    \n  }\n  \n}\n"],"sourceRoot":"webpack:///"}